<div class="container my-5">
  <h2 class="mb-4 text-center">ðŸ“¦ Stock General</h2>

  <!-- Formulario para agregar nueva categorÃ­a -->
  <form class="row g-3 mb-4" (ngSubmit)="agregarCategoria()">
    <div class="col-md-4">
      <input
        type="text"
        class="form-control"
        placeholder="Nombre de la categorÃ­a"
        [(ngModel)]="nombreCategoria"
        name="nombreCategoria"
        required
      />
    </div>
    <div class="col-md-6">
      <input
        type="text"
        class="form-control"
        placeholder="DescripciÃ³n"
        [(ngModel)]="descripcionCategoria"
        name="descripcionCategoria"
        required
      />
    </div>
    <div class="col-md-2">
      <button type="submit" class="btn btn-success w-100">
        Agregar categorÃ­a
      </button>
    </div>
  </form>
  <div *ngIf="mensajeExitoCategoria" class="alert alert-success text-center py-2">
    {{ mensajeExitoCategoria }}
  </div>
  <div *ngIf="mensajeErrorCategoria" class="alert alert-danger text-center py-2">
    {{ mensajeErrorCategoria }}
  </div>

  <!-- Tarjetas de stock -->
  <div class="row g-4 justify-content-center">
    <div class="col-12 col-sm-6 col-lg-3" *ngFor="let item of resumen">
      <a [routerLink]="['/productos/categoria', item.id]">
        <div class="p-3 border rounded bg-dark text-center card-option">
          <h3 class="h5 mb-3">{{ item.categoria }}</h3>
          <img
            [src]="getImagen(item.categoria)"
            class="img-fluid"
            [alt]="item.categoria"
          />
          <p class="mt-2">Total: <strong>{{ item.total }}</strong></p>
        </div>
      </a>
    </div>
  </div>

  <!-- Tabla resumen -->
<div class="mt-5">
  <h4 class="text-center mb-3">ðŸ“Š Resumen general</h4>
  <div class="table-responsive">
    <table class="table table-dark table-striped table-bordered text-center tabla">
      <thead>
        <tr>
          <th>CategorÃ­a</th>
          <th>Disponible</th>
          <th>Stock mÃ­nimo</th>
          <th>Ãšltima actualizaciÃ³n</th>
        </tr>
      </thead>
      <tbody>
        <tr *ngFor="let item of resumen">
          <td>{{ item.categoria }}</td>
          <td>{{ item.disponible }}</td>
          <td>{{ item.minimo }}</td>
          <td>{{ item.ultima_actualizacion }}</td>
        </tr>
      </tbody>
    </table>
  </div>
</div>